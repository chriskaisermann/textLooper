!function(){var t={delay:1500,in:"fadeIn",out:"fadeOut",selector:"data-textlooper",separator:",",loopingClass:"textlooper--looping",reverseClass:"textlooper--reverse",animatedClass:"animated"},e=["webkit","moz","MS","o",""],n=document.head||document.getElementsByTagName("head")[0],s=function(e){return void 0===e&&(e=""),t.selector+(e.length?"-":"")+e},r=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))},o=function(t){return t.filter(function(t){return t.trim().length})},a=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++)for(var s in arguments[n])Object.prototype.hasOwnProperty.call(e[n],s)&&(t[s]=e[n][s]);return t},i=function(){var t=document.createElement("style");return t.type="text/css",t.id="textlooper-css",n.appendChild(t),r(t,"["+s()+"]{display:inline-block;}"),t}(),u=!1,l=function(n,l){var d,c=-1,f=!1,p=this,h=function(){p.node.classList.remove(t.animatedClass,t.reverseClass,d),f=!f,p.attributes.outs&&!f?b():setTimeout(b,p.attributes.delays[c])},b=function(){p.attributes.outs&&f?(d=p.attributes.outs[c],p.attributes.comebackAsOut&&p.node.classList.add(t.reverseClass),p.node.classList.add(t.animatedClass,d)):(++c===p.attributes.phrases.length&&(c=0),d=p.attributes.ins[c],p.node.style.visibility="hidden",p.node.textContent=p.attributes.phrases[c],setTimeout(function(){p.node.style.visibility="visible",p.node.classList.add(t.animatedClass,d)},0))},m=function(){var e={separator:p.node.getAttribute(s("separator"))||t.separator};if(p.node.hasAttribute(s())||p.node.setAttribute(s(),t.delay),e.delays=p.node.getAttribute(s()),e.delays=o(e.delays.split("|")).filter(function(t){return Number.isInteger(+t)}).map(Number),e.phrases=o(p.node.textContent.split(e.separator)),!e.phrases.length)throw new Error("TextLooper - no text detected");return["in","out"].forEach(function(t){var n=t+"s",r=s(t);if(!p.node.hasAttribute(r))return void(e[n]=null);e[n]=p.node.getAttribute(r),e[n]=e[n]?o(e[n].split("|")):[]}),e},g=function(e){return e.separator=e.separator||t.separator,["in","out","delay"].forEach(function(n){var s,r=n+"s";if("out"!==n||e[r]){if(s=e[r]?Array.isArray(e[r])?e[r]:[e[r]]:[],s.length<e.phrases.length){var o=s.length?s[0]:t[n];s=s.concat(new Array(e.phrases.length-s.length).fill(o))}if(s.length!==e.phrases.length)throw new Error("TextLooper - There are a different number of phrases and parameters");e[r]=s}}),e.comebackAsOut||(e.comebackAsOut=!e.outs&&p.node.hasAttribute(s("comeback"))),e.comebackAsOut&&(e.outs=e.ins.slice(0)),e};this.start=function(){return this.node.classList.add(t.loopingClass),b(),p},this.getAttributes=function(){return this.attributes},function(n,s){if(p.node=n,p.attributes=g(s?a({ins:[],outs:null,comebackAsOut:!1,delays:[]},s):m()),p.attributes.comebackAsOut&&!u){var o="."+t.reverseClass+" {";e.forEach(function(t){var e=t?"-":"";o+=e+t+e+"animation-direction: alternate-reverse;"}),o+="}",r(i,o),u=!0}e.forEach(function(t,e){p.node.addEventListener(t+(t.length?"AnimationEnd":"animationend"),h)})}(n,l)};l.setOptions=function(e){a(t,e)},l.getOptions=function(){return t},l.seek=function(){for(var e=document.querySelectorAll("["+s()+"]:not(."+t.loopingClass+")"),n=0;n<e.length;n++)new l(e[n]).start()},"undefined"!=typeof module&&module.exports?module.exports=l:window.TextLooper=l}();