!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.TextLooper=e()}(this,function(t){"use strict";function e(e){var o,a,r,l=[],s=-1,f=function(){for(var i=e.getAttribute(n+"-separator")||",",o=0,s=e.textContent.split(i);o<s.length;o++)l.push(s[o].trim());r=e.getAttribute(n).trim().split("|");var f=e.getAttribute(n+"-animation");if(a=f?f.split("|"):t,a&&a.length>1&&a.length<l.length||r.length>1&&r.length<l.length)return void console.error("TextLooper - There are more phrases than parameters");for(var d=0,c=["webkit","moz","MS","o",""];d<c.length;d++)e.addEventListener(c[d]+(c[d]?"AnimationEnd":"animationend"),u);e.classList.add("textLooped"),e.style.visibility="visible",m()},u=function(){e.classList.remove("animated",o),setTimeout(m,d(r,s)||i.delay)},d=function(t,e){return 1==t.length?t[0]:t[e]},m=function(){++s===l.length&&(s=0),o=a?d(a,s):i.animation,e.textContent=l[s],e.classList.add("animated",o)};f()}var n="data-textloop",i={delay:1500,animation:"fadeIn"};return e.setDefaultDelay=function(t){i.delay=t},e.setDefaultAnimation=function(t){i.animation=t},e.refreshElements=function(){for(var t=0,i=document.querySelectorAll("["+n+"]:not(.textLooped)");t<i.length;t++)new e(i[t])},e.refreshElements(),e});