!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.TextLooper=e()}(this,function(t){function e(e){var o,a,r,l=e.getAttribute(n+"-separator"),s=[],f=-1,u=!0,d=function(){l=l||",";for(var i=0,o=e.textContent.split(l);i<o.length;i++)s.push(o[i].trim());r=e.getAttribute(n).trim().split("|");var f=e.getAttribute(n+"-animation");if(a=f?f.split("|"):t,a&&a.length>1&&a.length<s.length||r.length>1&&r.length<s.length)return void console.error("TextLooper - There are more phrases than parameters");for(var u=0,d=["webkit","moz","MS","o",""];u<d.length;u++)e.addEventListener(d[u]+(d[u]?"AnimationEnd":"animationend"),m);e.classList.add("textLooped"),e.style.visibility="visible",h()},m=function(){e.classList.remove("animated",o),u=!0},c=function(t,e){return 1==t.length?t[0]:t[e]},h=function(){++f===s.length&&(f=0),o=a?c(a,f):i.animation,e.textContent=s[f],e.classList.add("animated",o),u=!1,p(50)},p=function(t){u?setTimeout(h,c(r,f)||i.delay):setTimeout(function(){p(10,h)},t)};d()}var n="data-textloop",i={delay:1500,animation:"fadeIn"};return e.setDefaultDelay=function(t){i.delay=t},e.setDefaultAnimation=function(t){i.animation=t},e.refreshElements=function(){for(var t=0,i=document.querySelectorAll("["+n+"]:not(.textLooped)");t<i.length;t++)new e(i[t])},e.refreshElements(),e});