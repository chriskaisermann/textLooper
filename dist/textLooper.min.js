!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.TextLooper=e()}(this,function(t){function e(e){var i,a,r,l=e.getAttribute(n+"-separator"),s=[],f=-1,u=!0,d=function(){l=l||",";for(var o=0,i=e.textContent.split(l);o<i.length;o++)s.push(i[o].trim());r=e.getAttribute(n).trim().split("|");var f=e.getAttribute(n+"-animation");if(a=f?f.split("|"):t,a&&a.length>1&&a.length<s.length||r.length>1&&r.length<s.length)return void console.error("TextLooper - There are more phrases than parameters");for(var u=0,d=["webkit","moz","MS","o",""];u<d.length;u++)e.addEventListener(d[u]+(d[u]?"AnimationEnd":"animationend"),m);e.classList.add("textLooped"),h()},m=function(){e.classList.remove("animated",i),u=!0},c=function(t,e){return 1==t.length?t[0]:t[e]},h=function(){++f===s.length&&(f=0),i=a?c(a,f):o.animation,e.textContent=s[f],e.classList.add("animated",i),u=!1,p(50)},p=function(t){u?setTimeout(h,c(r,f)||o.delay):setTimeout(function(){p(10,h)},t)};d()}var n="data-textloop",o={delay:1500,animation:"fadeIn"};return e.setDefaultDelay=function(t){o.delay=t},e.setDefaultAnimation=function(t){o.animation=t},e.refreshElements=function(){for(var t=0,o=document.querySelectorAll("["+n+"]:not(.textLooped)");t<o.length;t++)new e(o[t])},e.refreshElements(),e});